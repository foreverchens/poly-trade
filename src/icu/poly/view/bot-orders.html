<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Bot Orders</title>
        <link rel="stylesheet" href="/bot-orders/bot-orders.css" />
    </head>
    <body>
        <div class="wrap">
            <div class="header-bar">
                <h1>Bot Orders</h1>
                <button class="refresh-btn" onclick="fetchOrders()">Refresh</button>
            </div>
            <div id="loading" class="loading">Loading...</div>

            <table id="ordersTable" style="display: none">
            <thead>
                <tr>
                    <th>time</th>
                    <th>market slug</th>
                    <th>symbol</th>
                    <th>outcome</th>
                    <th>entry price</th>
                    <th>size</th>
                    <th>entry order id</th>
                    <th>profit order id</th>
                    <th>profit price</th>
                    <th>profit</th>
                    <th>status</th>
                    <th>z-score</th>
                    <th>secs left</th>
                    <th>volatility</th>
                    <th>type</th>
                    <th>actions</th>
                </tr>
            </thead>
            <tbody id="ordersBody"> </tbody>
            </table>
        </div>

        <!-- Edit Modal -->
        <div id="editModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal()">&times;</span>
                <h2>Edit Order</h2>
                <input type="hidden" id="editId" />
                <div class="form-group">
                    <label>Status</label>
                    <select id="editStatus">
                        <option value="pending">pending</option>
                        <option value="take_profit">take_profit</option>
                        <option value="cancelled">cancelled</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Profit Price (止盈价格)</label>
                    <input type="number" id="editProfitPrice" step="0.001" placeholder="例如: 0.999" />
                </div>
                <div class="form-group">
                    <label>Profit Order ID (止盈订单ID)</label>
                    <input type="text" id="editProfitOrderId" placeholder="止盈订单ID" />
                </div>
                <div class="form-group">
                    <label>Calculated Profit (自动计算)</label>
                    <input type="text" id="editProfit" readonly style="background: rgba(255,255,255,0.1);" />
                </div>
                <button class="save-btn" onclick="saveOrder()">Save</button>
            </div>
        </div>

        <script src="/bot-orders/bot-orders.js"></script>
    </body>
</html>
