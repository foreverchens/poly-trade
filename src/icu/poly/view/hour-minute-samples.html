<!doctype html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8" />
        <title>小时采样曲线</title>
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <link rel="stylesheet" href="/hour-minute-samples/hour-minute-samples.css" />
    </head>
    <body>
        <div class="wrap">
            <header class="page-head">
                <div>
                    <h1>小时采样曲线</h1>
                    <p
                        >输入 Polymarket 小时 market_slug，查看附表 hour_minute_samples 最近 60
                        分钟的细分数据。</p
                    >
                </div>
                <nav class="nav-links">
                    <a href="/crypto-markets" target="_parent">Crypto Markets</a>
                    <a href="/dashboard" target="_parent">Dashboard</a>
                    <a href="/bot-orders" target="_parent">Bot Orders</a>
                </nav>
            </header>

            <form id="queryForm" class="query-form">
                <label class="field">
                    <span>market_slug</span>
                    <input
                        id="marketSlugInput"
                        name="market_slug"
                        placeholder="例如：ethereum-up-or-down-november-24-3pm-et"
                        autocomplete="off"
                        required
                    />
                </label>
                <button type="submit" id="queryButton">加载数据</button>
            </form>

            <div id="status" class="status muted"></div>

            <section id="summarySection" class="panel hidden" aria-live="polite">
                <div class="panel-head">
                    <h2>最新快照</h2>
                    <span id="summaryMeta" class="muted"></span>
                </div>
                <div id="summaryGrid" class="summary-grid"></div>
            </section>

            <section class="panel">
                <div class="panel-head">
                    <h2>数据曲线</h2>
                    <span id="chartsMeta" class="muted"></span>
                </div>
                <div id="chartsEmpty" class="empty-hint hidden"
                    >暂无可绘制数据，先输入 market_slug 并加载。</div
                >
                <div id="chartsGrid" class="charts-grid"></div>
            </section>

            <section class="panel">
                <div class="panel-head">
                    <h2>minute 明细面板</h2>
                    <span id="tableMeta" class="muted"></span>
                </div>
                <div class="table-scroll">
                    <table>
                        <thead>
                            <tr>
                                <th>minute</th>
                                <th>assert_price</th>
                                <th>assert_amp(%)</th>
                                <th>up_price(%)</th>
                                <th>down_price(%)</th>
                                <th>top_price(%)</th>
                                <th>spread(%)</th>
                                <th>top_z</th>
                                <th>top_vol</th>
                                <th>liq_sum</th>
                                <th>top_side</th>
                            </tr>
                        </thead>
                        <tbody id="samplesTableBody"> </tbody>
                    </table>
                </div>
            </section>
        </div>

        <script src="/hour-minute-samples/hour-minute-samples.js"></script>
    </body>
</html>
